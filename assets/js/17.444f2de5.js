(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{170:function(a,t,r){"use strict";r.r(t);var e=r(0),s=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"性能优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#性能优化","aria-hidden":"true"}},[a._v("#")]),a._v(" 性能优化")]),r("h3",{attrs:{id:"作者：blackxu"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#作者：blackxu","aria-hidden":"true"}},[a._v("#")]),a._v(" 作者：BlackXu")]),r("h2",{attrs:{id:"负载均衡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡","aria-hidden":"true"}},[a._v("#")]),a._v(" 负载均衡")]),r("pre",[r("code",[a._v("将信息量均衡分配给多台服务器集群。数据库主从分离，主负责写，副负责读。\n通过缓存服务器（多台）进行性能优化：应用服务器在缓存服务器中读取信息。\n\n书籍：《高性能网站建设指南》、《高性能网站建设进阶指南》\n工具：YSlow\n")])]),r("h3",{attrs:{id:"_1-减少http请求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-减少http请求","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.减少http请求")]),r("pre",[r("code",[a._v("1.图片地图：使用方法类似雪碧图，只是语法有特殊，缺点是不够灵活。\n2.使用雪碧图：使用background属性使用，一般把小图片合并。\n3.内联图片：通过图片转化工具将图片转化为二进制格式。缺点是转化后src长度长，使html变大。\n4.合并脚本和样式表。\n")])]),r("h3",{attrs:{id:"_2-使用内容发布网络"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用内容发布网络","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.使用内容发布网络")]),r("pre",[r("code",[a._v("CDN:content delivery network.在多个地理位置不同的服务器上部署内容。便于不同地区浏览速度提升。\n")])]),r("h3",{attrs:{id:"_3-添加expires头"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-添加expires头","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.添加expires头")]),r("pre",[r("code",[a._v("添加缓存。解决性能问题最好的手段。\nhttp1.1以后为解决用户自行设置时间出bug，添加cache-control设置max-age=..来解决。\n")])]),r("h3",{attrs:{id:"_4-压缩组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-压缩组件","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.压缩组件")]),r("pre",[r("code",[a._v("gzip：一般压缩html文件。\n")])]),r("h3",{attrs:{id:"_5-将样式表放在顶部"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-将样式表放在顶部","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.将样式表放在顶部")]),r("pre",[r("code",[a._v("放在底部会造成白屏的问题。\n少用import命令引入样式表。\n")])]),r("h3",{attrs:{id:"_6-将脚本放在底部"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-将脚本放在底部","aria-hidden":"true"}},[a._v("#")]),a._v(" 6.将脚本放在底部")]),r("pre",[r("code",[a._v("js会阻塞后面内容的加载，如果放在开始，网页会先加载完JS后才加载其他东西。\n")])]),r("h3",{attrs:{id:"_7-避免css表达式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-避免css表达式","aria-hidden":"true"}},[a._v("#")]),a._v(" 7.避免CSS表达式")]),r("pre",[r("code",[a._v("在CSS中使用expression方法可以写JS，但是会影响CSS加载问题，从而使网页停止。\n")])]),r("h3",{attrs:{id:"_8-使用外部的js和css"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-使用外部的js和css","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.使用外部的JS和CSS")]),r("pre",[r("code",[a._v("便于做缓存。\n")])]),r("h3",{attrs:{id:"_9-减少dns查找"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-减少dns查找","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.减少DNS查找")]),r("pre",[r("code",[a._v("DNS：域名解析服务器。\n")])]),r("h3",{attrs:{id:"_10-精简js"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-精简js","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.精简JS")]),r("pre",[r("code",[a._v("空白、注释全部去掉。变量名简化。\n")])]),r("h3",{attrs:{id:"_11-避免重定向"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_11-避免重定向","aria-hidden":"true"}},[a._v("#")]),a._v(" 11.避免重定向")]),r("h3",{attrs:{id:"_12-移除重复脚本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_12-移除重复脚本","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.移除重复脚本")]),r("pre",[r("code",[a._v("去重。\n")])]),r("h3",{attrs:{id:"_13-配置etag"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_13-配置etag","aria-hidden":"true"}},[a._v("#")]),a._v(" 13.配置ETag")]),r("pre",[r("code",[a._v("更新缓存时生成唯一的ETag值，当服务器ETag不变，则缓存不更新，当变动时，服务器更新则缓存更新。\n在多服务器环境下，每台服务器的ETag在变，就不能存储缓存了。\n解决办法是，上传文件时在文件名后加一串版本号的字符串，当版本号变更后才更新缓存。\n缺点是缓存会越来越多。\n")])]),r("h3",{attrs:{id:"_14-使ajax可缓存"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_14-使ajax可缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 14.使Ajax可缓存")]),r("pre",[r("code",[a._v("不建议过多使用。\n当取出数据很少变化时可用ajax缓存。\n")])]),r("h3",{attrs:{id:"减少重绘和回流"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#减少重绘和回流","aria-hidden":"true"}},[a._v("#")]),a._v(" 减少重绘和回流")]),r("pre",[r("code",[a._v("重绘：把DomTree重新绘制。\n回流：改变节点后会发生回流，然后重绘。性能优化是减少回流次数。\n")])])])}],!1,null,null,null);t.default=s.exports}}]);