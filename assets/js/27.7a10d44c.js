(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{160:function(e,a,t){"use strict";t.r(a);var _=t(0),i=Object(_.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"安装arch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装arch","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装Arch")]),t("h3",{attrs:{id:"作者：blackxu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作者：blackxu","aria-hidden":"true"}},[e._v("#")]),e._v(" 作者：BlackXu")]),t("ul",[t("li",[e._v("前段时间突然想试一试arch系统，电脑有点拖不动了，想想可以自己DIY自己需要的东西，就装个arch吧。但是使用起来写前端的东西是真的费劲，还是自己攒钱去买个MacOS用吧！")])]),t("h3",{attrs:{id:"_1-开始："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-开始：","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.开始：")]),t("ul",[t("li",[e._v("用U盘制作启动盘。这里推荐低量级的制作软件USBwriter。")]),t("li",[e._v("然后去下载arch最新稳定版。把arch写入u盘。（会格式化U盘，建议用原来废弃的,4G以上空间）")])]),t("h3",{attrs:{id:"_2-开机："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-开机：","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.开机：")]),t("ul",[t("li",[e._v("进入BIOS，切换U盘到第一序列。基本操作不多说。")]),t("li",[e._v("重启。进入安装界面，回车。进入如下界面。")])]),t("p",[t("img",{attrs:{src:"https://i.imgur.com/mbU42ls.png",alt:""}})]),t("h3",{attrs:{id:"_3-进行联网："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-进行联网：","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.进行联网：")]),t("ul",[t("li",[e._v("执行:（以下操作都带#不用输入） "),t("code",[e._v("# wifi-menu")])]),t("li",[e._v("连接完后，执行：（看网络是否通）\n"),t("code",[e._v("# ping -c 3 www.baidu.com")])]),t("li",[e._v("同步时间，执行：\n"),t("code",[e._v("# timedatectl set-ntp true")])])]),t("p",[e._v("###4.编辑镜像站文件：")]),t("ul",[t("li",[t("p",[e._v("执行："),t("code",[e._v("# nano /etc/pacman.d/mirrorlist")])])]),t("li",[t("p",[e._v("在"),t("code",[e._v("##Germany")]),e._v("上面空白处添加一行代码，用处是将清华代码源代入：\n"),t("code",[e._v("Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch")])])]),t("li",[t("p",[e._v("执行"),t("code",[e._v("ctrl+x")]),e._v("退出，提示是否保存，输入"),t("code",[e._v("y")]),e._v("，回车保存")])])]),t("h3",{attrs:{id:"_5-看下磁盘情况："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-看下磁盘情况：","aria-hidden":"true"}},[e._v("#")]),e._v(" 5.看下磁盘情况：")]),t("ul",[t("li",[t("code",[e._v("# lsblk")])]),t("li",[e._v("主要判断下是分sda还是sdb，一般情况下是sda")])]),t("h3",{attrs:{id:"_6-判断是否efi："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-判断是否efi：","aria-hidden":"true"}},[e._v("#")]),e._v(" 6.判断是否EFI：")]),t("ul",[t("li",[t("code",[e._v("# ls /sys/firmware/efi/efivars")])]),t("li",[e._v("如果返回"),t("code",[e._v("ls: cannot access '/sys/firmware/efi/efivars': No such file or directory")]),e._v("说明是"),t("code",[e._v("BIOS")]),e._v("方式，否则"),t("code",[e._v("EFI")]),e._v("。")]),t("li",[e._v("本人电脑是"),t("code",[e._v("EFI")]),e._v("，以下都以"),t("code",[e._v("EFI")]),e._v("为主。")])]),t("h3",{attrs:{id:"_7-分配空间："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-分配空间：","aria-hidden":"true"}},[e._v("#")]),e._v(" 7.分配空间：")]),t("p",[e._v("-（以sda为例，全机安装arch，先将sda清空再分）")]),t("ul",[t("li",[t("p",[e._v("分区方案：\nsda1---------------1G------------------------/boot/EFi\nsda2---------------2G------------------------/boot\nsda3---------------450G------------------------/")])]),t("li",[t("p",[t("code",[e._v("# fdisk /dev/sda")])])]),t("li",[t("p",[e._v("建立gpt分区表输入："),t("code",[e._v("g")])])]),t("li",[t("p",[e._v("建立分区输入："),t("code",[e._v("n")])])]),t("li",[t("p",[e._v("分区号直接："),t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("提示让输入开始扇区："),t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("让输入结束扇区："),t("code",[e._v("+1G回车")])])]),t("li",[t("p",[e._v("建立第二个分区：输入"),t("code",[e._v("n")])])]),t("li",[t("p",[t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("输入开始扇区： "),t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("输入结束扇区："),t("code",[e._v("+2G")])])]),t("li",[t("p",[e._v("建立第三个分区：输入"),t("code",[e._v("n")])])]),t("li",[t("p",[t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("输入开始扇区： "),t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("输入结束扇区："),t("code",[e._v("回车")])])]),t("li",[t("p",[e._v("输入："),t("code",[e._v("w保存并退出")])])])]),t("h3",{attrs:{id:"_8-格式化并挂载，执行："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-格式化并挂载，执行：","aria-hidden":"true"}},[e._v("#")]),e._v(" 8.格式化并挂载，执行：")]),t("ul",[t("li",[t("p",[t("code",[e._v("# mkfs.fat -F32 /dev/sda1 (ESP分区)")])])]),t("li",[t("p",[t("code",[e._v("# mkfs.ext4 /dev/sda2 (boot分区)")])])]),t("li",[t("p",[t("code",[e._v("# mkfs.ext4 /dev/sda3(/分区)")])])]),t("li",[t("p",[e._v("挂载：（必须按顺序来mkdir，以下空格都是一个，为了方便才来的开一些）")])]),t("li",[t("p",[t("code",[e._v("# mount /dev/sda3 /mnt")])])]),t("li",[t("p",[t("code",[e._v("# mkdir /mnt/boot")])])]),t("li",[t("p",[t("code",[e._v("# mount /dev/sda2 /mnt/boot")])])]),t("li",[t("p",[t("code",[e._v("# mkdir /mnt/boot/EFI")])])]),t("li",[t("p",[t("code",[e._v("# mount /dev/sda1 /mnt/boot/EFI")])])]),t("li",[t("p",[e._v("执行：\n"),t("code",[e._v("# lsblk")])])]),t("li",[t("p",[e._v("应该在sda下有三个已经挂载了的分区了")])])]),t("h3",{attrs:{id:"_9-开始安装基本操作系统："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-开始安装基本操作系统：","aria-hidden":"true"}},[e._v("#")]),e._v(" 9.开始安装基本操作系统：")]),t("ul",[t("li",[e._v("执行：（安装项目回车，默认全装，安装过程输y，以下所有内容都相同）\n"),t("code",[e._v("# pacstrap -i /mnt base base-devel")])])]),t("h3",{attrs:{id:"_10-配置基础系统："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-配置基础系统：","aria-hidden":"true"}},[e._v("#")]),e._v(" 10.配置基础系统：")]),t("ul",[t("li",[t("p",[e._v("配置"),t("code",[e._v("fstab")]),e._v("，执行：（注意空格，用 -U 或 -L 选项来设置UUID 或卷标）\n"),t("code",[e._v("# genfstab -U /mnt >> /mnt/etc/fstab")])])]),t("li",[t("p",[e._v("切换到新系统，执行：(成功后root变白)\n"),t("code",[e._v("# arch-chroot /mnt")])])]),t("li",[t("p",[e._v("进行本地语言设置，执行：\n"),t("code",[e._v("# nano /etc/locale.gen")]),t("code",[e._v("删掉 en_US.UTF-8 UTF-8和 zh_CN.UTF-8 UTF-8 前面的#")]),t("code",[e._v("退出保存")])])]),t("li",[t("p",[e._v("执行：（看到两个语言done就是成功了。）\n"),t("code",[e._v("# locale-gen")])])]),t("li",[t("p",[e._v("执行：（将系统"),t("code",[e._v("locale")]),e._v(" 设置为"),t("code",[e._v("en_US.UTF-8")]),e._v("）\n"),t("code",[e._v("# echo LANG=en_US.UTF-8 /etc/locale.conf")])])]),t("li",[t("p",[e._v("设置时区，执行：（二选一）\n"),t("code",[e._v("# tzselect")])])]),t("li",[t("p",[e._v("依次输入 "),t("code",[e._v("4")]),t("code",[e._v("9")]),t("code",[e._v("1")]),t("code",[e._v("1")])])]),t("li",[t("p",[e._v("也可以执行：\n"),t("code",[e._v("# ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime")])])]),t("li",[t("p",[e._v("设置硬件时间，执行：(以UTC为标准)\n"),t("code",[e._v("# hwclock --systohc --utc")])])])]),t("h3",{attrs:{id:"_11-引导系统："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-引导系统：","aria-hidden":"true"}},[e._v("#")]),e._v(" 11.引导系统：")]),t("ul",[t("li",[t("p",[e._v("GRUB进行UEFI引导，执行：\n"),t("code",[e._v("# pacman -S dosfstools grub efibootmgr")])])]),t("li",[t("p",[e._v("进行安装grub， 执行：（成功会显示no error reported）\n"),t("code",[e._v("# grub-install --target=x86_64-efi --efi-directory=/boot/EFI --recheck")])])]),t("li",[t("p",[e._v("进行配置grub，执行：（成功最后是done）\n"),t("code",[e._v("# grub-mkconfig -o /boot/grub/grub.cfg")])])])]),t("h3",{attrs:{id:"_12-最后基本操作："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-最后基本操作：","aria-hidden":"true"}},[e._v("#")]),e._v(" 12.最后基本操作：")]),t("ul",[t("li",[t("p",[e._v("安装dialog等这部很重要，执行：\n"),t("code",[e._v("# pacman -S vim dialog wpa_supplicant ntfs-3g")])])]),t("li",[t("p",[e._v("设置root密码，执行：\n"),t("code",[e._v("# passwd")])])]),t("li",[t("p",[e._v("设置主机名，执行：（blackchaos你的主机名）\n"),t("code",[e._v("# echo blackchaos > /etc/hostname")])])]),t("li",[t("p",[e._v("创建一个初始 RAM disk,执行：\n"),t("code",[e._v("# mkinitcpio -p linux")])])]),t("li",[t("p",[e._v("退出，执行：（"),t("code",[e._v("-R")]),e._v("能强行全部退出挂载）\n"),t("code",[e._v("# exit")]),t("code",[e._v("# umount -R /mnt")]),t("code",[e._v("# reboot")]),e._v("   （这里也可以shutdown然后拔U盘再开机，一定记得拔U盘）")])])]),t("h3",{attrs:{id:"到此为止，arch的基础系统就基本完成了，剩下的就是自己搭配的框架、软件、桌面、自己电脑的驱动，等等。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#到此为止，arch的基础系统就基本完成了，剩下的就是自己搭配的框架、软件、桌面、自己电脑的驱动，等等。","aria-hidden":"true"}},[e._v("#")]),e._v(" 到此为止，arch的基础系统就基本完成了，剩下的就是自己搭配的框架、软件、桌面、自己电脑的驱动，等等。")])])}],!1,null,null,null);a.default=i.exports}}]);